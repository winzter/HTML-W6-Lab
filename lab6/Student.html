<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        let student = [
            {
                fullname: 'นายตั้งใจ เรียนมาก',
                age: 18,
                year: 1,
                gpa: 3.40,
                help: true
            },
            {
                fullname: 'นายส่งงาน ตลอดมา',
                age: 19,
                year: 2,
                gpa: 3.00,
                help: false
            },
            {
                fullname: 'นางสาวใส่ใจ ดีงาม',
                age: 20,
                year: 3,
                gpa: 2.90,
                help: true
            },
            {
                fullname: "นายทำดี มีโชค",
                age: 20,
                year: 3,
                gpa: 3.80,
                help: true
            },
            {
                fullname:"นายหลับ สลับฟันปลา",
                age: 18,
                year: 1,
                gpa: 2.75,
                help: true
            },
            {
                fullname:"นายลิโอเนล เมสซี่",
                age: 18,
                year: 1,
                gpa: 4.00,
                help: false
            },
            {
                fullname:"นายสมหวัง สัมโหวง",
                age: 21,
                year: 4,
                gpa: 4.00,
                help: false
            }
        ]
        let studentYear = {
                1:[],
                2:[],
                3:[],
                4:[],
            }
        function scholarship(students){
            
            for( i in student){
                let yearOfBirth = 2564 - students[i].age;

                if(students[i].gpa >= 2.75){

                    if(students[i].gpa >= 3.20){

                        if(students[i].help == true){

                            console.log(`${students[i].fullname} เกิดเมื่อปี ${yearOfBirth} ได้ทุนการศึกษา เนื่องจากเกรดเฉลี่ยถึงเกณฑ์และยังช่วยงานภาควิชาด้วย`);
                            studentYear[student[i].year].push(`${students[i].fullname} เนื่องจากเกรดเฉลี่ยถึงเกณฑ์และยังช่วยงานภาควิชาด้วย`);
                        }
                        else{
                            console.log(`${students[i].fullname} เกิดเมื่อปี ${yearOfBirth} ได้ทุนการศึกษา เนื่องจากเกรดเฉลี่ยถึงเกณฑ์`);
                            studentYear[student[i].year].push(`${students[i].fullname} เนื่องจากเกรดเฉลี่ยถึงเกณฑ์`)
                        }
                    }
                    else if(students[i].year >= 2){

                        if(students[i].help){

                            console.log(`${students[i].fullname} เกิดเมื่อปี ${yearOfBirth} ได้ทุนการศึกษา เนื่องจากเกรดเฉลี่ยถึงเกณฑ์และยังช่วยงานภาควิชาด้วย`);
                            studentYear[student[i].year].push(`${students[i].fullname} เนื่องจากเกรดเฉลี่ยถึงเกณฑ์`)
                        }
                        else{
                            console.log(`${students[i].fullname} เกิดเมื่อปี ${yearOfBirth} ไม่ได้ทุนการศึกษา เนื่องจากเกรดเฉลี่ยถึงเกณฑ์แต่ไม่ได้ช่วยงานวิชาภาค`);
                        }
                    }
                    else{
                        console.log(`${students[i].fullname} เกิดเมื่อปี ${yearOfBirth} ไม่ได้ทุนการศึกษา เนื่องจากเกรดเฉลี่ยไม่ถึงเกณฑ์`);
                    } 
                }
                else{
                    console.log(`${students[i].fullname} เกิดเมื่อปี ${yearOfBirth} ไม่ได้ทุนการศึกษา เนื่องจากเกรดเฉลี่ยไม่ถึงเกณฑ์`);
                }
            }
            for(let i=1;i<=4;i++){
            console.log("ชั้นปีที่"+i);
            if(studentYear[i].length==0){
                    console.log("ไม่มี");
            }
            else{
                for(let j=0;j<studentYear[i].length;j++){
                    console.log(studentYear[i][j]);
                }
            }
            }
        }
        scholarship(student);
    </script>
</body>
</html>